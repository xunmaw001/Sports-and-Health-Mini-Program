(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/yundongmokuai/add-or-update"],{"419c":function(n,e,u){"use strict";u.r(e);var t=u("9d04"),o=u("fc1b");for(var r in o)"default"!==r&&function(n){u.d(e,n,(function(){return o[n]}))}(r);u("854d");var a,i=u("f0c5"),c=Object(i["a"])(o["default"],t["b"],t["c"],!1,null,"559eb6d0",null,!1,t["a"],a);e["default"]=c.exports},"854d":function(n,e,u){"use strict";var t=u("e88c"),o=u.n(t);o.a},"9d04":function(n,e,u){"use strict";u.d(e,"b",(function(){return o})),u.d(e,"c",(function(){return r})),u.d(e,"a",(function(){return t}));var t={wPicker:function(){return Promise.all([u.e("common/vendor"),u.e("components/w-picker/w-picker")]).then(u.bind(null,"9234"))}},o=function(){var n=this,e=n.$createElement;n._self._c},r=[]},b65b:function(n,e,u){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=o(u("a34a"));function o(n){return n&&n.__esModule?n:{default:n}}function r(n,e,u,t,o,r,a){try{var i=n[r](a),c=i.value}catch(d){return void u(d)}i.done?e(c):Promise.resolve(c).then(t,o)}function a(n){return function(){var e=this,u=arguments;return new Promise((function(t,o){var a=n.apply(e,u);function i(n){r(a,t,o,i,c,"next",n)}function c(n){r(a,t,o,i,c,"throw",n)}i(void 0)}))}}var i=function(){Promise.all([u.e("common/vendor"),u.e("components/w-picker/w-picker")]).then(function(){return resolve(u("9234"))}.bind(null,u)).catch(u.oe)},c={data:function(){return{cross:"",ro:{yundongmokuaiName:!1,yundongmokuaiPhoto:!1,yundongmokuaiAge:!1,yundongmokuaiKaululi:!1,yundongmokuaiTypes:!1,yundongmokuaiContent:!1,createTime:!1},ruleForm:{yundongmokuaiName:"",yundongmokuaiPhoto:"",yundongmokuaiAge:"",yundongmokuaiKaululi:"",yundongmokuaiTypes:"",yundongmokuaiValue:"",yundongmokuaiContent:"",createTime:""},user:{},yundongmokuaiTypesOptions:[],yundongmokuaiTypesIndex:0}},components:{wPicker:i},computed:{baseUrl:function(){return this.$base.url}},onLoad:function(n){var e=this;return a(t.default.mark((function u(){var o,r,a;return t.default.wrap((function(u){while(1)switch(u.prev=u.next){case 0:return o={page:1,limit:100,dicCode:"yundongmokuai_types"},u.next=3,e.$api.page("dictionary",o);case 3:if(r=u.sent,e.yundongmokuaiTypesOptions=r.data.list,!n.id){u.next=11;break}return e.ruleForm.id=n.id,u.next=9,e.$api.info("yundongmokuai",e.ruleForm.id);case 9:a=u.sent,e.ruleForm=a.data;case 11:n.yundongmokuaiId&&(e.ruleForm.yundongmokuaiId=n.yundongmokuaiId);case 12:case"end":return u.stop()}}),u)})))()},methods:{yundongmokuaiTypesChange:function(n){this.yundongmokuaiTypesIndex=n.target.value,this.ruleForm.yundongmokuaiValue=this.yundongmokuaiTypesOptions[this.yundongmokuaiTypesIndex].indexName,this.ruleForm.yundongmokuaiTypes=this.yundongmokuaiTypesOptions[this.yundongmokuaiTypesIndex].codeIndex},yundongmokuaiPhotoTap:function(){var n=this;this.$api.upload((function(e){n.ruleForm.yundongmokuaiPhoto=n.$base.url+"upload/"+e.file,n.$forceUpdate(),n.$nextTick((function(){}))}))},createTimeConfirm:function(n){console.log(n),this.ruleForm.createTime=n.result,this.$forceUpdate()},getUUID:function(){return(new Date).getTime()},onSubmitTap:function(){var e=this;return a(t.default.mark((function u(){return t.default.wrap((function(u){while(1)switch(u.prev=u.next){case 0:if(e.ruleForm.yundongmokuaiName){u.next=3;break}return e.$utils.msg("运动名称不能为空"),u.abrupt("return");case 3:if(e.ruleForm.yundongmokuaiPhoto){u.next=6;break}return e.$utils.msg("封面不能为空"),u.abrupt("return");case 6:if(e.ruleForm.yundongmokuaiAge){u.next=9;break}return e.$utils.msg("适宜年龄不能为空"),u.abrupt("return");case 9:if(e.ruleForm.yundongmokuaiKaululi||e.$validate.isIntNumer(e.ruleForm.yundongmokuaiKaululi)||!(e.ruleForm.yundongmokuaiKaululi>0)){u.next=12;break}return e.$utils.msg("消耗卡路里不能为空，不能小于0 格式为数字"),u.abrupt("return");case 12:if(!e.ruleForm.id){u.next=17;break}return u.next=15,e.$api.update("yundongmokuai",e.ruleForm);case 15:u.next=19;break;case 17:return u.next=19,e.$api.save("yundongmokuai",e.ruleForm);case 19:n.setStorageSync("pingluenStateState",!0),e.$utils.msgBack("提交成功");case 21:case"end":return u.stop()}}),u)})))()},getDate:function(n){var e=new Date,u=e.getFullYear(),t=e.getMonth()+1,o=e.getDate();return"start"===n?u-=60:"end"===n&&(u+=2),t=t>9?t:"0"+t,o=o>9?o:"0"+o,"".concat(u,"-").concat(t,"-").concat(o)},toggleTab:function(n){this.$refs[n].show()}}};e.default=c}).call(this,u("543d")["default"])},e88c:function(n,e,u){},f4d1:function(n,e,u){"use strict";(function(n){u("ee5b");t(u("66fd"));var e=t(u("419c"));function t(n){return n&&n.__esModule?n:{default:n}}wx.__webpack_require_UNI_MP_PLUGIN__=u,n(e.default)}).call(this,u("543d")["createPage"])},fc1b:function(n,e,u){"use strict";u.r(e);var t=u("b65b"),o=u.n(t);for(var r in t)"default"!==r&&function(n){u.d(e,n,(function(){return t[n]}))}(r);e["default"]=o.a}},[["f4d1","common/runtime","common/vendor"]]]);